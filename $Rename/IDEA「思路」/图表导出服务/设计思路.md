# 图表导出服务
目标：批量导出大量图表，图表数据目前为：EChart、highcharts、heatmap、wordcloud为主。

## 渲染方式
- 模拟SVG/Canvas
优点:
  渲染快，占用资源低
缺点: 
    1. 开发成本高，意味着不同的Canvas渲染的图表和SVG图表需要分开独立处理
    2. 针对不同图表渲染所用到的API不一定能够在Node环境模拟
- 无头浏览器
优点: 
  1. 能够完全模拟正常浏览器的渲染行为，对不同的图表兼容性高
  2. 调试可以使用可视化浏览器，开发相对方便
缺点：
  1. 占用资源高，耗时相比直接模拟SVG/Canvas渲染长
  2. puppeteer的issue反馈可能存在加载资源过多导致Crash

## 结论
最终还是采用方案二，使用无头浏览器。
缺点一二在当前业务内还能克服，方案一成本太高。
首先云端服务器性能较高，不用担心渲染时间长的问题，其次每个图表渲染其实对资源的占用不大，而且对失败的任务进行重试，防止意外Crash。
